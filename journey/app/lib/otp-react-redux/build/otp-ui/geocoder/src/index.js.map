{"version":3,"sources":["index.js"],"names":["getGeocoder","geocoderConfig","type","NoApiGeocoder","ArcGISGeocoder","arcgis","PeliasGeocoder","pelias","console","error"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;;;;;;;AAEA;AACA,MAAMA,WAAW,GAAG,qBAAQC,cAAc,IAAI;AAC5C,MAAI,CAACA,cAAD,IAAmB,CAACA,cAAc,CAACC,IAAvC,EAA6C;AAC3C,WAAO,IAAIC,cAAJ,EAAP;AACD;;AACD,QAAM;AAAED,IAAAA;AAAF,MAAWD,cAAjB;;AACA,UAAQC,IAAR;AACE,SAAK,QAAL;AACE,aAAO,IAAIE,eAAJ,CAAmBC,MAAnB,EAA2BJ,cAA3B,CAAP;;AACF,SAAK,QAAL;AACE,aAAO,IAAIK,eAAJ,CAAmBC,MAAnB,EAA2BN,cAA3B,CAAP;;AACF;AACEO,MAAAA,OAAO,CAACC,KAAR,CAAe,0BAAyBP,IAAK,yBAA7C;AACA,aAAO,IAAIC,cAAJ,EAAP;AAPJ;AASD,CAdmB,CAApB;eAgBeH,W","sourcesContent":["import * as arcgis from \"@conveyal/geocoder-arcgis-geojson\";\nimport * as pelias from \"isomorphic-mapzen-search\";\nimport memoize from \"lodash.memoize\";\n\nimport ArcGISGeocoder from \"./geocoders/arcgis\";\nimport NoApiGeocoder from \"./geocoders/noapi\";\nimport PeliasGeocoder from \"./geocoders/pelias\";\n\n// Create a memoized getter to avoid recreating new geocoders each time.\nconst getGeocoder = memoize(geocoderConfig => {\n  if (!geocoderConfig || !geocoderConfig.type) {\n    return new NoApiGeocoder();\n  }\n  const { type } = geocoderConfig;\n  switch (type) {\n    case \"ARCGIS\":\n      return new ArcGISGeocoder(arcgis, geocoderConfig);\n    case \"PELIAS\":\n      return new PeliasGeocoder(pelias, geocoderConfig);\n    default:\n      console.error(`Unkown geocoder type: \"${type}\". Using NoApiGeocoder.`);\n      return new NoApiGeocoder();\n  }\n});\n\nexport default getGeocoder;\n"]}