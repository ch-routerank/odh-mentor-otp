{"version":3,"sources":["parking.js"],"names":["fetch","require","receivedParkingLocationsError","receivedParkingLocationsResponse","requestParkingLocationsResponse","parkingLocationsQuery","url","dispatch","getState","json","response","status","error","Error","err"],"mappings":";;;;;;;;AAAA;;AACA,IAAI,OAAQA,KAAR,KAAmB,WAAvB,EAAoCC,OAAO,CAAC,kBAAD,CAAP;AAE7B,MAAMC,6BAA6B,GAAG,gCAAa,yBAAb,CAAtC;;AACA,MAAMC,gCAAgC,GAAG,gCAAa,4BAAb,CAAzC;;AACA,MAAMC,+BAA+B,GAAG,gCAAa,2BAAb,CAAxC;;;AAEA,SAASC,qBAAT,CAAgCC,GAAhC,EAAqC;AAC1C,SAAO,gBAAgBC,QAAhB,EAA0BC,QAA1B,EAAoC;AACzCD,IAAAA,QAAQ,CAACH,+BAA+B,EAAhC,CAAR;AACA,QAAIK,IAAJ;;AACA,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACM,GAAD,CAA5B;;AACA,UAAII,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;AAC1B,cAAMC,KAAK,GAAG,IAAIC,KAAJ,CAAU,4BAAV,CAAd;AACAD,QAAAA,KAAK,CAACF,QAAN,GAAiBA,QAAjB;AACA,cAAME,KAAN;AACD;;AACDH,MAAAA,IAAI,GAAG,MAAMC,QAAQ,CAACD,IAAT,EAAb;AACD,KARD,CAQE,OAAOK,GAAP,EAAY;AACZ,aAAOP,QAAQ,CAACL,6BAA6B,CAACY,GAAD,CAA9B,CAAf;AACD;;AAEDP,IAAAA,QAAQ,CAACJ,gCAAgC,CAACM,IAAD,CAAjC,CAAR;AACD,GAhBD;AAiBD","sourcesContent":["import { createAction } from 'redux-actions'\nif (typeof (fetch) === 'undefined') require('isomorphic-fetch')\n\nexport const receivedParkingLocationsError = createAction('PARKING_LOCATIONS_ERROR')\nexport const receivedParkingLocationsResponse = createAction('PARKING_LOCATIONS_RESPONSE')\nexport const requestParkingLocationsResponse = createAction('PARKING_LOCATIONS_REQUEST')\n\nexport function parkingLocationsQuery (url) {\n  return async function (dispatch, getState) {\n    dispatch(requestParkingLocationsResponse())\n    let json\n    try {\n      const response = await fetch(url)\n      if (response.status >= 400) {\n        const error = new Error('Received error from server')\n        error.response = response\n        throw error\n      }\n      json = await response.json()\n    } catch (err) {\n      return dispatch(receivedParkingLocationsError(err))\n    }\n\n    dispatch(receivedParkingLocationsResponse(json))\n  }\n}\n"]}