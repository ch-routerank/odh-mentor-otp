{"version":3,"sources":["app-menu.js"],"names":["AppMenu","Component","props","setMainPanelContent","MainPanelContent","ROUTE_VIEWER","reactRouterConfig","startOverUrl","basename","window","location","href","render","languageConfig","_showRouteViewer","routeViewer","_startOver","PropTypes","func","mapStateToProps","state","ownProps","otp","config","language","mapDispatchToProps"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;;AAEA;;;;;;;;;;AAEA;AAEA,MAAMA,OAAN,SAAsBC,gBAAtB,CAAgC;AAAA;AAAA;;AAAA,8CAKX,MAAM;AACvB,WAAKC,KAAL,CAAWC,mBAAX,CAA+BC,qBAAiBC,YAAhD;AACD,KAP6B;;AAAA,wCASjB,MAAM;AACjB,YAAM;AAAEC,QAAAA;AAAF,UAAwB,KAAKJ,KAAnC;AACA,UAAIK,YAAY,GAAG,GAAnB;;AACA,UAAID,iBAAiB,IAAIA,iBAAiB,CAACE,QAA3C,EAAqD;AACnDD,QAAAA,YAAY,IAAID,iBAAiB,CAACE,QAAlC;AACD;;AACDC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBJ,YAAvB;AACD,KAhB6B;AAAA;;AAkB9BK,EAAAA,MAAM,GAAI;AACR,UAAM;AAAEC,MAAAA;AAAF,QAAqB,KAAKX,KAAhC;AAEA,wBACE;AAAK,MAAA,SAAS,EAAC;AAAf,oBACE,6BAAC,8BAAD;AACE,oBAAW,kBADb;AAEE,MAAA,KAAK,eAAG,6BAAC,aAAD;AAAM,QAAA,IAAI,EAAC;AAAX,QAFV;AAGE,MAAA,OAAO,MAHT;AAIE,MAAA,SAAS,EAAC,iBAJZ;AAKE,MAAA,EAAE,EAAC;AALL,oBAME,6BAAC,wBAAD;AAAU,MAAA,OAAO,EAAE,KAAKY;AAAxB,oBACE,6BAAC,aAAD;AAAM,MAAA,IAAI,EAAC;AAAX,MADF,OACuBD,cAAc,CAACE,WAAf,IAA8B,kBADrD,CANF,eASE,6BAAC,wBAAD;AAAU,MAAA,OAAO,EAAE,KAAKC;AAAxB,oBACE,6BAAC,aAAD;AAAM,MAAA,IAAI,EAAC;AAAX,MADF,iBATF,CADF,CADF;AAiBD;;AAtC6B,C,CAyChC;;;gBAzCMhB,O,eACe;AACjBG,EAAAA,mBAAmB,EAAEc,mBAAUC;AADd,C;;AA0CrB,MAAMC,eAAe,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AAC3C,SAAO;AACLR,IAAAA,cAAc,EAAEO,KAAK,CAACE,GAAN,CAAUC,MAAV,CAAiBC;AAD5B,GAAP;AAGD,CAJD;;AAMA,MAAMC,kBAAkB,GAAG;AACzBtB,EAAAA,mBAAmB,EAAnBA;AADyB,CAA3B;;eAIe,yBAAQgB,eAAR,EAAyBM,kBAAzB,EAA6CzB,OAA7C,C","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { DropdownButton, MenuItem } from 'react-bootstrap'\n\nimport Icon from '../narrative/icon'\n\nimport { MainPanelContent, setMainPanelContent } from '../../actions/ui'\n\n// TODO: make menu items configurable via props/config\n\nclass AppMenu extends Component {\n  static propTypes = {\n    setMainPanelContent: PropTypes.func\n  }\n\n  _showRouteViewer = () => {\n    this.props.setMainPanelContent(MainPanelContent.ROUTE_VIEWER)\n  }\n\n  _startOver = () => {\n    const { reactRouterConfig } = this.props\n    let startOverUrl = '/'\n    if (reactRouterConfig && reactRouterConfig.basename) {\n      startOverUrl += reactRouterConfig.basename\n    }\n    window.location.href = startOverUrl\n  }\n\n  render () {\n    const { languageConfig } = this.props\n\n    return (\n      <div className='app-menu'>\n        <DropdownButton\n          aria-label='Application Menu'\n          title={(<Icon type='bars' />)}\n          noCaret\n          className='app-menu-button'\n          id='app-menu'>\n          <MenuItem onClick={this._showRouteViewer}>\n            <Icon type='bus' /> {languageConfig.routeViewer || 'Visualizza Linee'}\n          </MenuItem>\n          <MenuItem onClick={this._startOver}>\n            <Icon type='undo' /> $_restart_$\n          </MenuItem>\n        </DropdownButton>\n      </div>\n    )\n  }\n}\n\n// connect to the redux store\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    languageConfig: state.otp.config.language\n  }\n}\n\nconst mapDispatchToProps = {\n  setMainPanelContent\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppMenu)\n"]}