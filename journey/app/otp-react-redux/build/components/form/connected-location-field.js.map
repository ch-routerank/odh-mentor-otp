{"version":3,"sources":["connected-location-field.js"],"names":["StyledLocationField","LocationField","DropdownContainer","FormGroup","Input","InputGroup","InputGroupAddon","MenuItemA","mapStateToProps","state","ownProps","config","currentQuery","location","transitIndex","user","otp","currentPosition","nearbyStops","sessionSearches","activeSearch","query","geocoderConfig","geocoder","locationType","showUserSettings","stopsIndex","stops","userLocationsAndRecentPlaces","locations","recentPlaces","mapDispatchToProps","addLocationSearch","findNearbyStops","getCurrentPosition","onLocationSelected","clearLocation"],"mappings":";;;;;;;AAAA;;AACA;;AAQA;;AACA;;AAEA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,mBAAmB,GAAG,+BAAOC,sBAAP,CAAsB;AAClD;AACA;AACA,IAAIC,yBAAkB;AACtB;AACA;AACA;AACA;AACA;AACA,IAAIC,iBAAU;AACd;AACA;AACA;AACA;AACA;AACA,IAAIC,aAAM;AACV;AACA;AACA;AACA;AACA;AACA,IAAIC,kBAAW;AACf;AACA;AACA;AACA,IAAIC,uBAAgB;AACpB;AACA;AACA;AACA;AACA;AACA,IAAIC,iBAAU;AACd;AACA;AACA;AACA,IAAIA,iBAAU;AACd;AACA;AACA,CAtCA,C,CAwCA;;AAEA,MAAMC,eAAe,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AAC3C,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,YAAV;AAAwBC,IAAAA,QAAxB;AAAkCC,IAAAA,YAAlC;AAAgDC,IAAAA;AAAhD,MAAyDN,KAAK,CAACO,GAArE;AACA,QAAM;AAAEC,IAAAA,eAAF;AAAmBC,IAAAA,WAAnB;AAAgCC,IAAAA;AAAhC,MAAoDN,QAA1D;AACA,QAAMO,YAAY,GAAG,4BAAgBX,KAAK,CAACO,GAAtB,CAArB;AACA,QAAMK,KAAK,GAAGD,YAAY,GAAGA,YAAY,CAACC,KAAhB,GAAwBT,YAAlD;AACA,SAAO;AACLK,IAAAA,eADK;AAELK,IAAAA,cAAc,EAAEX,MAAM,CAACY,QAFlB;AAGLV,IAAAA,QAAQ,EAAEQ,KAAK,CAACX,QAAQ,CAACc,YAAV,CAHV;AAILN,IAAAA,WAJK;AAKLC,IAAAA,eALK;AAMLM,IAAAA,gBAAgB,EAAE,gCAAoBhB,KAAK,CAACO,GAA1B,CANb;AAOLU,IAAAA,UAAU,EAAEZ,YAAY,CAACa,KAPpB;AAQLC,IAAAA,4BAA4B,EAAE,CAAC,GAAGb,IAAI,CAACc,SAAT,EAAoB,GAAGd,IAAI,CAACe,YAA5B;AARzB,GAAP;AAUD,CAfD;;AAiBA,MAAMC,kBAAkB,GAAG;AACzBC,EAAAA,iBAAiB,EAAjBA,2BADyB;AAEzBC,EAAAA,eAAe,EAAfA,oBAFyB;AAGzBC,EAAAA,kBAAkB,EAAlBA,4BAHyB;AAIzBC,EAAAA,kBAAkB,EAAlBA,uBAJyB;AAKzBC,EAAAA,aAAa,EAAbA;AALyB,CAA3B;;eAQe,yBAAQ5B,eAAR,EAAyBuB,kBAAzB,EAA6C/B,mBAA7C,C","sourcesContent":["import LocationField from '@opentripplanner/location-field'\nimport {\n  DropdownContainer,\n  FormGroup,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  MenuItemA\n} from '@opentripplanner/location-field/lib/styled'\nimport { connect } from 'react-redux'\nimport styled from 'styled-components'\n\nimport { clearLocation, onLocationSelected } from '../../actions/map'\nimport { addLocationSearch, getCurrentPosition } from '../../actions/location'\nimport { findNearbyStops } from '../../actions/api'\nimport { getActiveSearch, getShowUserSettings } from '../../util/state'\n\nconst StyledLocationField = styled(LocationField)`\n  width: 100%;\n\n  ${DropdownContainer} {\n    display: table-cell;\n    vertical-align: middle;\n    width: 1%;\n  }\n\n  ${FormGroup} {\n    display: table;\n    padding: 6px 12px;\n    width: 100%;\n  }\n\n  ${Input} {\n    display: table-cell;\n    padding: 6px 12px;\n    width: 100%;\n  }\n\n  ${InputGroup} {\n    width: 100%;\n  }\n\n  ${InputGroupAddon} {\n    display: table-cell;\n    vertical-align: middle;\n    width: 1%;\n  }\n\n  ${MenuItemA} {\n    text-decoration: none;\n  }\n\n  ${MenuItemA}:hover {\n    color: #333;\n  }\n`\n\n// connect to redux store\n\nconst mapStateToProps = (state, ownProps) => {\n  const { config, currentQuery, location, transitIndex, user } = state.otp\n  const { currentPosition, nearbyStops, sessionSearches } = location\n  const activeSearch = getActiveSearch(state.otp)\n  const query = activeSearch ? activeSearch.query : currentQuery\n  return {\n    currentPosition,\n    geocoderConfig: config.geocoder,\n    location: query[ownProps.locationType],\n    nearbyStops,\n    sessionSearches,\n    showUserSettings: getShowUserSettings(state.otp),\n    stopsIndex: transitIndex.stops,\n    userLocationsAndRecentPlaces: [...user.locations, ...user.recentPlaces]\n  }\n}\n\nconst mapDispatchToProps = {\n  addLocationSearch,\n  findNearbyStops,\n  getCurrentPosition,\n  onLocationSelected,\n  clearLocation\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StyledLocationField)\n"]}