{"version":3,"sources":["index.js"],"names":["Object","defineProperty","exports","value","default","_time","require","_types","_react","_interopRequireWildcard","_propTypes","_interopRequireDefault","_velocityReact","_accessLegSteps","_accessLegSummary","_legDiagramPreview","_rentedVehicleSubheader","Styled","_tncLeg","obj","__esModule","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_defineProperty","enumerable","configurable","writable","AccessLegBody","Component","constructor","props","expanded","state","setState","leg","legIndex","setActiveLeg","render","config","diagramVisible","followsTransit","LegIcon","setLegDiagram","showElevationProfile","showLegIcon","timeOptions","mode","hailedCar","createElement","onSummaryClick","Fragment","rentedVehicle","rentedBike","rentedCar","LegBody","StepsHeader","onClick","onStepsHeaderClick","formatDuration","duration","steps","CaretToggle","VelocityTransitionGroup","enter","animation","leave","propTypes","configType","isRequired","legType","bool","elementType","number","func","timeOptionsType","defaultProps"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _time = require(\"@opentripplanner/core-utils/lib/time\");\n\nvar _types = require(\"@opentripplanner/core-utils/lib/types\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _velocityReact = require(\"velocity-react\");\n\nvar _accessLegSteps = _interopRequireDefault(require(\"./access-leg-steps\"));\n\nvar _accessLegSummary = _interopRequireDefault(require(\"./access-leg-summary\"));\n\nvar _legDiagramPreview = _interopRequireDefault(require(\"./leg-diagram-preview\"));\n\nvar _rentedVehicleSubheader = _interopRequireDefault(require(\"./rented-vehicle-subheader\"));\n\nvar Styled = _interopRequireWildcard(require(\"../styled\"));\n\nvar _tncLeg = _interopRequireDefault(require(\"./tnc-leg\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Component for access (e.g. walk/bike/etc.) leg in narrative itinerary. This\n * particular component is used in the line-itin (i.e., trimet-mod-otp) version\n * of the narrative itinerary.\n */\nclass AccessLegBody extends _react.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onStepsHeaderClick\", () => {\n      const {\n        expanded\n      } = this.state;\n      this.setState({\n        expanded: !expanded\n      });\n    });\n\n    _defineProperty(this, \"onSummaryClick\", () => {\n      const {\n        leg,\n        legIndex,\n        setActiveLeg\n      } = this.props;\n      setActiveLeg(legIndex, leg);\n    });\n\n    this.state = {\n      expanded: false\n    };\n  }\n\n  render() {\n    const {\n      config,\n      diagramVisible,\n      followsTransit,\n      leg,\n      LegIcon,\n      setLegDiagram,\n      showElevationProfile,\n      showLegIcon,\n      timeOptions\n    } = this.props;\n    const {\n      expanded\n    } = this.state;\n\n    if (leg.mode === \"CAR\" && leg.hailedCar) {\n      return /*#__PURE__*/_react.default.createElement(_tncLeg.default, {\n        config: config,\n        followsTransit: followsTransit,\n        leg: leg,\n        LegIcon: LegIcon,\n        onSummaryClick: this.onSummaryClick,\n        showLegIcon: showLegIcon,\n        timeOptions: timeOptions\n      });\n    }\n\n    return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, leg && (leg.rentedVehicle || leg.rentedBike || leg.rentedCar) && /*#__PURE__*/_react.default.createElement(_rentedVehicleSubheader.default, {\n      config: config,\n      leg: leg\n    }), /*#__PURE__*/_react.default.createElement(Styled.LegBody, null, /*#__PURE__*/_react.default.createElement(_accessLegSummary.default, {\n      config: config,\n      leg: leg,\n      LegIcon: LegIcon,\n      onSummaryClick: this.onSummaryClick,\n      showLegIcon: showLegIcon\n    }), /*#__PURE__*/_react.default.createElement(Styled.StepsHeader, {\n      onClick: this.onStepsHeaderClick\n    }, (0, _time.formatDuration)(leg.duration), leg.steps && /*#__PURE__*/_react.default.createElement(\"span\", null, \" \", /*#__PURE__*/_react.default.createElement(Styled.CaretToggle, {\n      expanded: expanded\n    }))), /*#__PURE__*/_react.default.createElement(_legDiagramPreview.default, {\n      diagramVisible: diagramVisible,\n      leg: leg,\n      setLegDiagram: setLegDiagram,\n      showElevationProfile: showElevationProfile\n    }), /*#__PURE__*/_react.default.createElement(_velocityReact.VelocityTransitionGroup, {\n      enter: {\n        animation: \"slideDown\"\n      },\n      leave: {\n        animation: \"slideUp\"\n      }\n    }, expanded && /*#__PURE__*/_react.default.createElement(_accessLegSteps.default, {\n      steps: leg.steps\n    }))));\n  }\n\n}\n\nexports.default = AccessLegBody;\nAccessLegBody.propTypes = {\n  config: _types.configType.isRequired,\n\n  /**\n   * Should be either null or a legType. Indicates that a particular leg diagram\n   * has been selected and is active.\n   */\n  diagramVisible: _types.legType,\n  followsTransit: _propTypes.default.bool,\n  leg: _types.legType.isRequired,\n  LegIcon: _propTypes.default.elementType.isRequired,\n  legIndex: _propTypes.default.number.isRequired,\n  setActiveLeg: _propTypes.default.func.isRequired,\n  setLegDiagram: _propTypes.default.func.isRequired,\n  showElevationProfile: _propTypes.default.bool.isRequired,\n  showLegIcon: _propTypes.default.bool.isRequired,\n  timeOptions: _types.timeOptionsType\n};\nAccessLegBody.defaultProps = {\n  diagramVisible: null,\n  followsTransit: false,\n  timeOptions: null\n};"]}