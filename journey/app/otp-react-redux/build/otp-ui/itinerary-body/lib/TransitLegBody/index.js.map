{"version":3,"sources":["index.js"],"names":["Object","defineProperty","exports","value","default","_itinerary","require","_time","_types","_propTypes","_interopRequireDefault","_react","_interopRequireWildcard","_faSolid","_velocityReact","_alertsBody","_intermediateStops","Styled","_viewTripButton","_getRequireWildcardCache","WeakMap","cache","obj","__esModule","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_defineProperty","enumerable","configurable","writable","pluralize","str","list","length","TransitLegBody","Component","constructor","props","leg","fare","fareForLeg","details","regular","forEach","fareComponent","routes","includes","routeId","getTransitFare","price","stopsExpanded","state","setState","alertsExpanded","legIndex","setActiveLeg","render","config","LegIcon","longDateFormat","RouteDescription","setViewedTrip","showAgencyInfo","showViewTripButton","timeFormat","TransitLegSubheader","TransitLegSummary","transitOperator","language","languageConfig","agencyBrandingUrl","agencyName","agencyUrl","alerts","logoUrl","logo","expandAlerts","getFareForLeg","createElement","Fragment","LegBody","LegClickable","onClick","onSummaryClick","AgencyInfo","href","rel","target","alt","src","height","TransitAlertToggle","onToggleAlertsClick","ExclamationTriangle","size","CaretToggle","expanded","VelocityTransitionGroup","enter","animation","leave","intermediateStops","TransitLegDetails","TransitLegDetailsHeader","onToggleStopsClick","tripId","fromIndex","from","stopIndex","toIndex","to","TransitLegExpandedBody","stops","TransitLegFare","centsToString","transitFare","averageWait","formatDuration","propTypes","configType","isRequired","fareType","legType","elementType","number","string","func","bool","transitOperatorType","defaultProps","undefined"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _itinerary = require(\"@opentripplanner/core-utils/lib/itinerary\");\n\nvar _time = require(\"@opentripplanner/core-utils/lib/time\");\n\nvar _types = require(\"@opentripplanner/core-utils/lib/types\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _faSolid = require(\"styled-icons/fa-solid\");\n\nvar _velocityReact = require(\"velocity-react\");\n\nvar _alertsBody = _interopRequireDefault(require(\"./alerts-body\"));\n\nvar _intermediateStops = _interopRequireDefault(require(\"./intermediate-stops\"));\n\nvar Styled = _interopRequireWildcard(require(\"../styled\"));\n\nvar _viewTripButton = _interopRequireDefault(require(\"./view-trip-button\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// TODO use pluralize that for internationalization (and complex plurals, i.e., not just adding 's')\nfunction pluralize(str, list) {\n  return `${str}${list.length > 1 ? \"s\" : \"\"}`;\n}\n\nclass TransitLegBody extends _react.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"getFareForLeg\", (leg, fare) => {\n      let fareForLeg;\n\n      if (fare && fare.details && fare.details.regular) {\n        fare.details.regular.forEach(fareComponent => {\n          if (fareComponent.routes.includes(leg.routeId)) {\n            fareForLeg = (0, _itinerary.getTransitFare)(fareComponent.price);\n          }\n        });\n      }\n\n      return fareForLeg;\n    });\n\n    _defineProperty(this, \"onToggleStopsClick\", () => {\n      const {\n        stopsExpanded\n      } = this.state;\n      this.setState({\n        stopsExpanded: !stopsExpanded\n      });\n    });\n\n    _defineProperty(this, \"onToggleAlertsClick\", () => {\n      const {\n        alertsExpanded\n      } = this.state;\n      this.setState({\n        alertsExpanded: !alertsExpanded\n      });\n    });\n\n    _defineProperty(this, \"onSummaryClick\", () => {\n      const {\n        leg,\n        legIndex,\n        setActiveLeg\n      } = this.props;\n      setActiveLeg(legIndex, leg);\n    });\n\n    this.state = {\n      alertsExpanded: false,\n      stopsExpanded: false\n    };\n  }\n\n  render() {\n    const {\n      config,\n      fare,\n      leg,\n      LegIcon,\n      longDateFormat,\n      RouteDescription,\n      setViewedTrip,\n      showAgencyInfo,\n      showViewTripButton,\n      timeFormat,\n      TransitLegSubheader,\n      TransitLegSummary,\n      transitOperator\n    } = this.props;\n    const {\n      language: languageConfig\n    } = config;\n    const {\n      agencyBrandingUrl,\n      agencyName,\n      agencyUrl,\n      alerts\n    } = leg;\n    const {\n      alertsExpanded,\n      stopsExpanded\n    } = this.state; // If the config contains an operator with a logo URL, prefer that over the\n    // one provided by OTP (which is derived from agency.txt#agency_branding_url)\n\n    const logoUrl = transitOperator && transitOperator.logo ? transitOperator.logo : agencyBrandingUrl;\n    const expandAlerts = alertsExpanded || leg.alerts && leg.alerts.length < 3;\n    const fareForLeg = this.getFareForLeg(leg, fare);\n    return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, TransitLegSubheader && /*#__PURE__*/_react.default.createElement(TransitLegSubheader, {\n      languageConfig: languageConfig,\n      leg: leg\n    }), /*#__PURE__*/_react.default.createElement(Styled.LegBody, null, /*#__PURE__*/_react.default.createElement(Styled.LegClickable, {\n      onClick: this.onSummaryClick\n    }, /*#__PURE__*/_react.default.createElement(RouteDescription, {\n      leg: leg,\n      LegIcon: LegIcon,\n      transitOperator: transitOperator\n    })), showAgencyInfo && /*#__PURE__*/_react.default.createElement(Styled.AgencyInfo, null, \"$_service_$\", \" \", /*#__PURE__*/_react.default.createElement(\"a\", {\n      href: agencyUrl,\n      rel: \"noopener noreferrer\",\n      target: \"_blank\"\n    }, agencyName, logoUrl && /*#__PURE__*/_react.default.createElement(\"img\", {\n      alt: `${agencyName} logo`,\n      src: logoUrl,\n      height: 25\n    }))), alerts && alerts.length > 2 && /*#__PURE__*/_react.default.createElement(Styled.TransitAlertToggle, {\n      onClick: this.onToggleAlertsClick\n    }, /*#__PURE__*/_react.default.createElement(_faSolid.ExclamationTriangle, {\n      size: 15\n    }), \" \", alerts.length, \" \", pluralize(\"alert\", alerts), \" \", /*#__PURE__*/_react.default.createElement(Styled.CaretToggle, {\n      expanded: alertsExpanded\n    })), /*#__PURE__*/_react.default.createElement(_velocityReact.VelocityTransitionGroup, {\n      enter: {\n        animation: \"slideDown\"\n      },\n      leave: {\n        animation: \"slideUp\"\n      }\n    }, expandAlerts && /*#__PURE__*/_react.default.createElement(_alertsBody.default, {\n      alerts: leg.alerts,\n      longDateFormat: longDateFormat,\n      timeFormat: timeFormat\n    })), leg.intermediateStops && leg.intermediateStops.length > 0 && /*#__PURE__*/_react.default.createElement(Styled.TransitLegDetails, null, /*#__PURE__*/_react.default.createElement(Styled.TransitLegDetailsHeader, null, /*#__PURE__*/_react.default.createElement(TransitLegSummary, {\n      leg: leg,\n      onClick: this.onToggleStopsClick,\n      stopsExpanded: stopsExpanded\n    }), showViewTripButton && /*#__PURE__*/_react.default.createElement(_viewTripButton.default, {\n      tripId: leg.tripId,\n      fromIndex: leg.from.stopIndex,\n      setViewedTrip: setViewedTrip,\n      toIndex: leg.to.stopIndex\n    })), /*#__PURE__*/_react.default.createElement(_velocityReact.VelocityTransitionGroup, {\n      enter: {\n        animation: \"slideDown\"\n      },\n      leave: {\n        animation: \"slideUp\"\n      }\n    }, stopsExpanded ? /*#__PURE__*/_react.default.createElement(Styled.TransitLegExpandedBody, null, /*#__PURE__*/_react.default.createElement(_intermediateStops.default, {\n      stops: leg.intermediateStops\n    }), fareForLeg && /*#__PURE__*/_react.default.createElement(Styled.TransitLegFare, null, \"Fare: \", fareForLeg.centsToString(fareForLeg.transitFare))) : null), leg.averageWait && /*#__PURE__*/_react.default.createElement(\"span\", null, \"Typical Wait: \", (0, _time.formatDuration)(leg.averageWait)))));\n  }\n\n}\n\nexports.default = TransitLegBody;\nTransitLegBody.propTypes = {\n  config: _types.configType.isRequired,\n  fare: _types.fareType,\n  leg: _types.legType.isRequired,\n  LegIcon: _propTypes.default.elementType.isRequired,\n  legIndex: _propTypes.default.number.isRequired,\n  longDateFormat: _propTypes.default.string.isRequired,\n  RouteDescription: _propTypes.default.elementType.isRequired,\n  setActiveLeg: _propTypes.default.func.isRequired,\n  setViewedTrip: _propTypes.default.func.isRequired,\n  showAgencyInfo: _propTypes.default.bool.isRequired,\n  showViewTripButton: _propTypes.default.bool.isRequired,\n  timeFormat: _propTypes.default.string.isRequired,\n  TransitLegSubheader: _propTypes.default.elementType,\n  TransitLegSummary: _propTypes.default.elementType.isRequired,\n  transitOperator: _types.transitOperatorType\n};\nTransitLegBody.defaultProps = {\n  fare: null,\n  TransitLegSubheader: undefined,\n  transitOperator: null\n};"]}