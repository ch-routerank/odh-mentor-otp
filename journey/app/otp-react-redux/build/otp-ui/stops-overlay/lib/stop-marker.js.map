{"version":3,"sources":["stop-marker.js"],"names":["Object","defineProperty","exports","value","default","BaseMapStyled","_interopRequireWildcard","require","_types","_fromToLocationPicker","_interopRequireDefault","_propTypes","_react","_reactLeaflet","Styled","obj","__esModule","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","target","i","arguments","length","source","apply","_defineProperty","enumerable","configurable","writable","StopMarker","Component","constructor","args","setViewedStop","stop","props","stopId","id","setLocation","locationType","lat","lon","name","location","render","languageConfig","leafletPath","radius","idArr","split","agency","pop","createElement","CircleMarker","center","Popup","MapOverlayPopup","PopupTitle","PopupRow","ViewStopButton","onClick","onClickView","stopViewer","onFromClick","onToClick","propTypes","languageConfigType","isRequired","leafletPathType","number","func","stopLayerStopType","defaultProps","color","fillColor","fillOpacity","weight"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar BaseMapStyled = _interopRequireWildcard(require(\"@opentripplanner/base-map/lib/styled\"));\n\nvar _types = require(\"@opentripplanner/core-utils/lib/types\");\n\nvar _fromToLocationPicker = _interopRequireDefault(require(\"@opentripplanner/from-to-location-picker\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactLeaflet = require(\"react-leaflet\");\n\nvar Styled = _interopRequireWildcard(require(\"./styled\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass StopMarker extends _react.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"onClickView\", () => {\n      const {\n        setViewedStop,\n        stop\n      } = this.props;\n      setViewedStop({\n        stopId: stop.id\n      });\n    });\n\n    _defineProperty(this, \"onFromClick\", () => {\n      this.setLocation(\"from\");\n    });\n\n    _defineProperty(this, \"onToClick\", () => {\n      this.setLocation(\"to\");\n    });\n  }\n\n  setLocation(locationType) {\n    const {\n      setLocation,\n      stop\n    } = this.props;\n    const {\n      lat,\n      lon,\n      name\n    } = stop;\n    setLocation({\n      location: {\n        lat,\n        lon,\n        name\n      },\n      locationType\n    });\n  }\n\n  render() {\n    const {\n      languageConfig,\n      leafletPath,\n      radius,\n      stop\n    } = this.props;\n    const {\n      id,\n      name,\n      lat,\n      lon\n    } = stop;\n    const idArr = id.split(\":\");\n    const agency = idArr[0];\n    const stopId = idArr.pop();    \n    return /*#__PURE__*/_react.default.createElement(_reactLeaflet.CircleMarker\n    /* eslint-disable-next-line react/jsx-props-no-spreading */\n    , _extends({}, leafletPath, {\n      center: [lat, lon],\n      radius: radius\n    }), /*#__PURE__*/_react.default.createElement(_reactLeaflet.Popup, null, /*#__PURE__*/_react.default.createElement(BaseMapStyled.MapOverlayPopup, null, /*#__PURE__*/_react.default.createElement(BaseMapStyled.PopupTitle, null, name), /*#__PURE__*/_react.default.createElement(BaseMapStyled.PopupRow, null, /*#__PURE__*/_react.default.createElement(\"span\", null, /*#__PURE__*/_react.default.createElement(\"b\", null, \"Stop ID:\"), \" \", idArr[1]), /*#__PURE__*/_react.default.createElement(Styled.ViewStopButton, {\n      onClick: this.onClickView\n    }, languageConfig.stopViewer || \"Fermata\")), /*#__PURE__*/_react.default.createElement(BaseMapStyled.PopupRow, null, /*#__PURE__*/_react.default.createElement(\"b\", null, \"$_travel_$\"), /*#__PURE__*/_react.default.createElement(_fromToLocationPicker.default, {\n      onFromClick: this.onFromClick,\n      onToClick: this.onToClick\n    })))));\n  }\n\n}\n\nexports.default = StopMarker;\nStopMarker.propTypes = {\n  languageConfig: _types.languageConfigType.isRequired,\n  leafletPath: _types.leafletPathType,\n  radius: _propTypes.default.number,\n  setLocation: _propTypes.default.func.isRequired,\n  setViewedStop: _propTypes.default.func.isRequired,\n  stop: _types.stopLayerStopType.isRequired\n};\nStopMarker.defaultProps = {\n  leafletPath: {\n    color: \"#000\",\n    fillColor: \"#FFF\",\n    fillOpacity: 1,\n    weight: 1\n  },\n  radius: 5\n};"]}