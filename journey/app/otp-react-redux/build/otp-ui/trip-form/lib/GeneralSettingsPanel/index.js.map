{"version":3,"sources":["index.js"],"names":["Object","defineProperty","exports","value","default","_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_queryParams","_query","_types","_CheckboxSelector","_DropdownSelector","Styled","obj","__esModule","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_defineProperty","enumerable","configurable","writable","GeneralSettingsPanel","Component","constructor","args","queryParam","onQueryParamChange","props","render","className","paramNames","query","style","supportedModes","configWrapper","modes","createElement","map","param","paramInfo","find","qp","name","routingTypes","includes","routingType","applicable","selector","label","getQueryParamProperty","options","onChange","handleChange","propTypes","string","any","arrayOf","func","configuredModesType","isRequired","defaultProps","defaultParams","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _queryParams = _interopRequireDefault(require(\"@opentripplanner/core-utils/lib/query-params\"));\n\nvar _query = require(\"@opentripplanner/core-utils/lib/query\");\n\nvar _types = require(\"@opentripplanner/core-utils/lib/types\");\n\nvar _CheckboxSelector = _interopRequireDefault(require(\"../CheckboxSelector\"));\n\nvar _DropdownSelector = _interopRequireDefault(require(\"../DropdownSelector\"));\n\nvar Styled = _interopRequireWildcard(require(\"../styled\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * The general settings panel for setting speed and routing optimization controls.\n */\nclass GeneralSettingsPanel extends _react.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"handleChange\", queryParam => {\n      const {\n        onQueryParamChange\n      } = this.props;\n\n      if (typeof onQueryParamChange === \"function\") {\n        onQueryParamChange(queryParam);\n      }\n    });\n  }\n\n  render() {\n    const {\n      className,\n      paramNames,\n      query,\n      style,\n      supportedModes\n    } = this.props;\n    const configWrapper = {\n      modes: supportedModes\n    };\n    return /*#__PURE__*/_react.default.createElement(Styled.GeneralSettingsPanel, {\n      className: className,\n      style: style\n    }, paramNames.map(param => {\n      const paramInfo = _queryParams.default.find(qp => qp.name === param); // Check that the parameter applies to the specified routingType\n\n\n      if (!paramInfo.routingTypes.includes(query.routingType)) return null; // Check that the applicability test (if provided) is satisfied\n\n      if (typeof paramInfo.applicable === \"function\" && !paramInfo.applicable(query, configWrapper)) {\n        return null;\n      } // Create the UI component based on the selector type\n\n\n      switch (paramInfo.selector) {\n        case \"DROPDOWN\":\n          return /*#__PURE__*/_react.default.createElement(_DropdownSelector.default, {\n            key: paramInfo.name,\n            name: paramInfo.name,\n            value: query[paramInfo.name] || paramInfo.default,\n            label: (0, _query.getQueryParamProperty)(paramInfo, \"label\", query),\n            options: (0, _query.getQueryParamProperty)(paramInfo, \"options\", query),\n            onChange: this.handleChange\n          });\n\n        case \"CHECKBOX\":\n          return /*#__PURE__*/_react.default.createElement(_CheckboxSelector.default, {\n            key: paramInfo.label,\n            name: paramInfo.name,\n            value: query[paramInfo.name],\n            label: (0, _query.getQueryParamProperty)(paramInfo, \"label\", query),\n            onChange: this.handleChange\n          });\n\n        default:\n          return null;\n      }\n    }));\n  }\n\n}\n\nGeneralSettingsPanel.propTypes = {\n  /**\n   * The CSS class name to apply to this element.\n   */\n  className: _propTypes.default.string,\n\n  /**\n   * An object {parameterName: value, ...} whose attributes correspond to query parameters.\n   * For query parameter names and value formats,\n   * see https://github.com/opentripplanner/otp-ui/blob/master/packages/core-utils/src/__tests__/query.js#L14\n   */\n  // Disable type check because the only use of queryParams is to be passed to\n  // method getQueryParamProperty from \"@opentripplanner/core-utils/lib/query\".\n  // eslint-disable-next-line react/forbid-prop-types\n  query: _propTypes.default.any,\n\n  /**\n   * An array of parameter names to support in the settings panel.\n   * See the `query` parameter for more on query parameter names.\n   */\n  paramNames: _propTypes.default.arrayOf(_propTypes.default.string),\n\n  /**\n   * Triggered when the value of a trip setting is changed by the user.\n   * @param arg The data {name: value} of the changed trip setting.\n   */\n  onQueryParamChange: _propTypes.default.func,\n\n  /**\n   * An array of supported modes that will be displayed as options.\n   */\n  supportedModes: _types.configuredModesType.isRequired\n};\nGeneralSettingsPanel.defaultProps = {\n  className: null,\n  query: null,\n  paramNames: _query.defaultParams,\n  onQueryParamChange: null\n};\nvar _default = GeneralSettingsPanel;\nexports.default = _default;"]}