{"version":3,"sources":["call-taker.js"],"names":["placeToLatLonStr","place","lat","toFixed","lon","searchToQuery","search","call","otpConfig","queryParams","query","from","to","JSON","stringify","fromPlace","name","toPlace","timeStamp","timestamp"],"mappings":";;;;;;;;;AAAA;;AAEA,SAASA,gBAAT,CAA2BC,KAA3B,EAAkC;AAChC,mBAAUA,KAAK,CAACC,GAAN,CAAUC,OAAV,CAAkB,CAAlB,CAAV,cAAkCF,KAAK,CAACG,GAAN,CAAUD,OAAV,CAAkB,CAAlB,CAAlC;AACD;AAED;;;;;;AAIO,SAASE,aAAT,CAAwBC,MAAxB,EAAgCC,IAAhC,EAAsCC,SAAtC,EAAiD;AACtD;AACA,MAAMC,WAAW,GAAG,2BAAiBH,MAAM,CAACI,KAAxB,EAA+BF,SAA/B,EAA0C,IAA1C,CAApB;AAFsD,sBAGnCF,MAAM,CAACI,KAH4B;AAAA,MAG/CC,IAH+C,iBAG/CA,IAH+C;AAAA,MAGzCC,EAHyC,iBAGzCA,EAHyC;AAItD,SAAO;AACLH,IAAAA,WAAW,EAAEI,IAAI,CAACC,SAAL,CAAeL,WAAf,CADR;AAELM,IAAAA,SAAS,EAAEJ,IAAI,CAACK,IAAL,IAAahB,gBAAgB,CAACW,IAAD,CAFnC;AAGLM,IAAAA,OAAO,EAAEL,EAAE,CAACI,IAAH,IAAWhB,gBAAgB,CAACY,EAAD,CAH/B;AAILM,IAAAA,SAAS,EAAEZ,MAAM,CAACI,KAAP,CAAaS,SAJnB;AAKLZ,IAAAA,IAAI,EAAJA;AALK,GAAP;AAOD","sourcesContent":["import {getRoutingParams} from '../actions/api'\n\nfunction placeToLatLonStr (place) {\n  return `${place.lat.toFixed(6)},${place.lon.toFixed(6)}`\n}\n\n/**\n * Utility to map an OTP MOD UI search object to a Call Taker datastore query\n * object.\n */\nexport function searchToQuery (search, call, otpConfig) {\n  // FIXME: how to handle realtime updates?\n  const queryParams = getRoutingParams(search.query, otpConfig, true)\n  const {from, to} = search.query\n  return {\n    queryParams: JSON.stringify(queryParams),\n    fromPlace: from.name || placeToLatLonStr(from),\n    toPlace: to.name || placeToLatLonStr(to),\n    timeStamp: search.query.timestamp,\n    call\n  }\n}\n"]}